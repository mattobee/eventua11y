<!-- Start filter drawer -->
<sl-drawer
  label="Filter events"
  placement="end"
  id="filter-drawer"
  class="no-js"
>
  <div class="flow">
    <fieldset class="checkbox-group filter flow flow-tight">
      <legend class="text-muted">Call for speakers</legend>

      <div class="checkbox">
        <input
          type="checkbox"
          x-model="$store.filters.cfsOpen"
          @change="$store.filters.filterEvents()"
          value="open"
          id="filter-cfs-open"
          class="filter-option"
        />
        <label for="filter-cfs-open">Accepting talks</label>
      </div>

      <div class="checkbox">
        <input
          type="checkbox"
          x-model="$store.filters.cfsClosed"
          @change="$store.filters.filterEvents()"
          value="closed"
          id="filter-cfs-closed"
          class="filter-option"
        />
        <label for="filter-cfs-closed">Not accepting talks</label>
      </div>
    </fieldset>

    <!-- Filter by attendance mode -->
    <fieldset class="checkbox-group filter flow flow-tight">
      <legend class="text-muted">Attendance method</legend>

      <div class="checkbox">
        <input
          type="checkbox"
          x-model="$store.filters.attendanceOnline"
          @change="$store.filters.filterEvents()"
          value="online"
          id="filter-attendance-online"
          class="filter-option"
        />
        <label for="filter-attendance-online">Online</label>
      </div>

      <div class="checkbox">
        <input
          type="checkbox"
          x-model="$store.filters.attendanceOffline"
          @change="$store.filters.filterEvents()"
          value="in-person"
          id="filter-attendance-in-person"
          class="filter-option"
        />
        <label for="filter-attendance-in-person">In person</label>
      </div>
    </fieldset>

    <div class="checkbox">
      <input
        type="checkbox"
        x-model="$store.filters.themes"
        @change="$store.filters.filterEvents()"
        value="closed"
        id="filter-themes"
        class="filter-option"
      />
      <label for="filter-themes">Awareness days</label>
    </div>

    <div class="actions flow">
      <sl-button
        variant="primary"
        size="large"
        id="show-events"
        name="show-events"
        @click="$refs.filterDrawer.close()"
        x-text="$store.filters.visibleEventCount === $store.filters.totalEventCount ? 'Show all ' + $store.filters.totalEventCount + ' events' : 'Show ' + $store.filters.visibleEventCount + ' of ' + $store.filters.totalEventCount + ' events'"
      ></sl-button>
      <sl-button
        data-testid="drawer-reset"
        name="filter-reset"
        x-show="$store.filters.isChanged()"
        @click="$store.filters.reset()"
        ><i class="fa-solid fa-filter-circle-xmark"></i> Reset Filters</sl-button
      >
    </div>
  </div>
</sl-drawer>
<!-- End filter drawer -->
